<form id="filter-form" method="get">

    <div class="search-row">
        <input type="text" name="search_string" value="{{ search_string }}" placeholder="Search..." aria-label="Search"/>
        <button type="submit" name="search">Search</button>
        <button type="button" onclick="resetForm()" class="secondary">Reset</button>
    </div>

    <div class="filters-row">
    {% for filter in collection_settings.filters %}
        {% if filter.filter_type == FilterType.dropdown %}
        <label>
            {{ filter.column_name }}
            <select name="{{ filter.db_name }}" onchange="submitForm()" aria-label="{{ filter.column_name }}">
                <option value="">All</option>
                {% for key, value in filter._values | custom_sort %}
                <option value="{{ key }}" {% if filter_params.get(filter.db_name) == key %}selected{% endif %}>
                    {{ key }}
                </option>
                {% endfor %}
            </select>
        </label>
        {% endif %}
    {% endfor %}
    </div>
</form>

<script>
    function submitForm() {
        document.getElementById('filter-form').submit();
    }
    function resetForm() {
        window.location.href = window.location.pathname;
    }
</script>